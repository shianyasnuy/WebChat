#pragma checksum "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "21e821a8b7740f1f5a58cb16fa129a018d70a454"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Chat_Chat), @"mvc.1.0.view", @"/Views/Chat/Chat.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "D:\programming\WebChat\WebChat\Views\_ViewImports.cshtml"
using WebChat;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\programming\WebChat\WebChat\Views\_ViewImports.cshtml"
using WebChat.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
using Microsoft.AspNetCore.Razor.Language.Intermediate;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
using Microsoft.CodeAnalysis;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
using Microsoft.CodeAnalysis.CSharp.Syntax;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"21e821a8b7740f1f5a58cb16fa129a018d70a454", @"/Views/Chat/Chat.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"a814993b2539efb9958d30a9277d5b3fc4f5208f", @"/Views/_ViewImports.cshtml")]
    public class Views_Chat_Chat : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<WebChat.ViewModels.ChatViewModel>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
#nullable restore
#line 6 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
  
    ViewData["Title"] = Model.Chat.ChatName;

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
<script>
    var messageToReplyId = 0;
    var messageToDeleteId = 0;
    var textToReply = '';
    var userToReply = '';
    var greenMsg = document.createElement('div');
    var redMsg = document.createElement('div');
    var fetchOpCount = 1;
    var messagesAdded = 0;
    var newMessageId = 0;
</script>
<script src=""/js/MessageEvents.js""></script>

<h3>");
#nullable restore
#line 23 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
Write(Model.Chat.ChatName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</h3>\r\n<div class=\"mesgs border border-light\">\r\n    <div id=\"ChatPane\" class=\"text-center msg_history\">\r\n        <a href=\"#\" class=\"badge badge-primary\" id=\"loadMoreBtn\">Load more</a>\r\n");
#nullable restore
#line 27 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
         foreach (var msg in Model.Messages)
        {
            

#line default
#line hidden
#nullable disable
#nullable restore
#line 29 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
             if (Model.CurrUser.Id == msg.User.Id)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <div class=\"alert alert-primary\"");
            BeginWriteAttribute("onclick", " onclick=\"", 980, "\"", 1347, 40);
            WriteAttributeValue("", 990, "(function(e)", 990, 12, true);
            WriteAttributeValue(" ", 1002, "{", 1003, 2, true);
            WriteAttributeValue(" ", 1004, "if", 1005, 3, true);
            WriteAttributeValue(" ", 1007, "(messageToDeleteId", 1008, 19, true);
            WriteAttributeValue(" ", 1026, "==", 1027, 3, true);
            WriteAttributeValue(" ", 1029, "0", 1030, 2, true);
            WriteAttributeValue(" ", 1031, "||", 1032, 3, true);
            WriteAttributeValue(" ", 1034, "messageToDeleteId", 1035, 18, true);
            WriteAttributeValue(" ", 1052, "!=", 1053, 3, true);
#nullable restore
#line 31 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
WriteAttributeValue(" ", 1055, msg.Id, 1056, 7, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 1063, ")", 1063, 1, true);
            WriteAttributeValue(" ", 1064, "{", 1065, 2, true);
            WriteAttributeValue(" ", 1066, "messageToDeleteId", 1067, 18, true);
            WriteAttributeValue(" ", 1084, "=", 1085, 2, true);
#nullable restore
#line 31 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
WriteAttributeValue(" ", 1086, msg.Id, 1087, 7, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 1094, ";showDelete();redMsg.className", 1094, 30, true);
            WriteAttributeValue(" ", 1124, "=", 1125, 2, true);
            WriteAttributeValue(" ", 1126, "\'alert", 1127, 7, true);
            WriteAttributeValue(" ", 1133, "alert-primary\';e.className", 1134, 27, true);
            WriteAttributeValue(" ", 1160, "=", 1161, 2, true);
            WriteAttributeValue(" ", 1162, "\'alert", 1163, 7, true);
            WriteAttributeValue(" ", 1169, "alert-danger", 1170, 13, true);
            WriteAttributeValue(" ", 1182, "border", 1183, 7, true);
            WriteAttributeValue(" ", 1189, "border-danger\';redMsg", 1190, 22, true);
            WriteAttributeValue(" ", 1211, "=", 1212, 2, true);
            WriteAttributeValue(" ", 1213, "e;greenMsg.className", 1214, 21, true);
            WriteAttributeValue(" ", 1234, "=", 1235, 2, true);
            WriteAttributeValue(" ", 1236, "\'alert", 1237, 7, true);
            WriteAttributeValue(" ", 1243, "alert-dark\';", 1244, 13, true);
            WriteAttributeValue(" ", 1256, "}", 1257, 2, true);
            WriteAttributeValue(" ", 1258, "else", 1259, 5, true);
            WriteAttributeValue(" ", 1263, "{", 1264, 2, true);
            WriteAttributeValue(" ", 1265, "messageToDeleteId", 1266, 18, true);
            WriteAttributeValue(" ", 1283, "=", 1284, 2, true);
            WriteAttributeValue(" ", 1285, "0;showSend();e.className", 1286, 25, true);
            WriteAttributeValue(" ", 1310, "=", 1311, 2, true);
            WriteAttributeValue(" ", 1312, "\'alert", 1313, 7, true);
            WriteAttributeValue(" ", 1319, "alert-primary\';", 1320, 16, true);
            WriteAttributeValue(" ", 1335, "}", 1336, 2, true);
            WriteAttributeValue(" ", 1337, "})(this);", 1338, 10, true);
            EndWriteAttribute();
            WriteLiteral(">\r\n");
#nullable restore
#line 32 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
                     if (msg.MessageToReply != null)
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <div class=\"row justify-content-center\">\r\n                            <div class=\"align-self-center\"><b>");
#nullable restore
#line 35 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
                                                         Write(msg.MessageToReply.Text);

#line default
#line hidden
#nullable disable
            WriteLiteral(" &lt;");
#nullable restore
#line 35 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
                                                                                      Write(msg.MessageToReply.User.NickName);

#line default
#line hidden
#nullable disable
            WriteLiteral("&gt;</b></div>\r\n                        </div>\r\n");
#nullable restore
#line 37 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <div class=\"row\">\r\n                        <div class=\"col-md-4\"><b>");
#nullable restore
#line 39 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
                                            Write(msg.Text);

#line default
#line hidden
#nullable disable
            WriteLiteral("</b></div>\r\n                        <div class=\"col-md-4 offset-4\">");
#nullable restore
#line 40 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
                                                  Write(msg.User.NickName);

#line default
#line hidden
#nullable disable
            WriteLiteral(" - ");
#nullable restore
#line 40 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
                                                                       Write(msg.Time.ToString("MM/dd/yyyy H:mm"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</div>\r\n                    </div>\r\n                </div>\r\n");
#nullable restore
#line 43 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
            }
            else
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <div class=\"alert alert-dark\"");
            BeginWriteAttribute("onclick", " onclick=\"", 2064, "\"", 2522, 52);
            WriteAttributeValue("", 2074, "(function(e)", 2074, 12, true);
            WriteAttributeValue(" ", 2086, "{", 2087, 2, true);
            WriteAttributeValue(" ", 2088, "if", 2089, 3, true);
            WriteAttributeValue(" ", 2091, "(messageToReplyId", 2092, 18, true);
            WriteAttributeValue(" ", 2109, "==", 2110, 3, true);
            WriteAttributeValue(" ", 2112, "0", 2113, 2, true);
            WriteAttributeValue(" ", 2114, "||", 2115, 3, true);
            WriteAttributeValue(" ", 2117, "messageToReplyId", 2118, 17, true);
            WriteAttributeValue(" ", 2134, "!=", 2135, 3, true);
#nullable restore
#line 46 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
WriteAttributeValue(" ", 2137, msg.Id, 2138, 7, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 2145, ")", 2145, 1, true);
            WriteAttributeValue(" ", 2146, "{", 2147, 2, true);
            WriteAttributeValue(" ", 2148, "messageToReplyId", 2149, 17, true);
            WriteAttributeValue(" ", 2165, "=", 2166, 2, true);
#nullable restore
#line 46 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
WriteAttributeValue(" ", 2167, msg.Id, 2168, 7, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 2175, ";textToReply", 2175, 12, true);
            WriteAttributeValue(" ", 2187, "=", 2188, 2, true);
            WriteAttributeValue(" ", 2189, "\'", 2190, 2, true);
#nullable restore
#line 46 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
WriteAttributeValue("", 2191, msg.Text, 2191, 9, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 2200, "\';userToReply", 2200, 13, true);
            WriteAttributeValue(" ", 2213, "=", 2214, 2, true);
            WriteAttributeValue(" ", 2215, "\'", 2216, 2, true);
#nullable restore
#line 46 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
WriteAttributeValue("", 2217, msg.User.NickName, 2217, 18, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 2235, "\';showReply();redMsg.className", 2235, 30, true);
            WriteAttributeValue(" ", 2265, "=", 2266, 2, true);
            WriteAttributeValue(" ", 2267, "\'alert", 2268, 7, true);
            WriteAttributeValue(" ", 2274, "alert-primary\';greenMsg.className", 2275, 34, true);
            WriteAttributeValue(" ", 2308, "=", 2309, 2, true);
            WriteAttributeValue(" ", 2310, "\'alert", 2311, 7, true);
            WriteAttributeValue(" ", 2317, "alert-dark\';e.className", 2318, 24, true);
            WriteAttributeValue(" ", 2341, "=", 2342, 2, true);
            WriteAttributeValue(" ", 2343, "\'alert", 2344, 7, true);
            WriteAttributeValue(" ", 2350, "alert-success", 2351, 14, true);
            WriteAttributeValue(" ", 2364, "border", 2365, 7, true);
            WriteAttributeValue(" ", 2371, "border-success\';greenMsg", 2372, 25, true);
            WriteAttributeValue(" ", 2396, "=", 2397, 2, true);
            WriteAttributeValue(" ", 2398, "e;", 2399, 3, true);
            WriteAttributeValue(" ", 2401, "}", 2402, 2, true);
            WriteAttributeValue(" ", 2403, "else", 2404, 5, true);
            WriteAttributeValue(" ", 2408, "{", 2409, 2, true);
            WriteAttributeValue(" ", 2410, "messageToReplyId", 2411, 17, true);
            WriteAttributeValue(" ", 2427, "=", 2428, 2, true);
            WriteAttributeValue(" ", 2429, "0;textToReply", 2430, 14, true);
            WriteAttributeValue(" ", 2443, "=", 2444, 2, true);
            WriteAttributeValue(" ", 2445, "\'\';userToReply", 2446, 15, true);
            WriteAttributeValue(" ", 2460, "=", 2461, 2, true);
            WriteAttributeValue(" ", 2462, "\'\';showSend();e.className", 2463, 26, true);
            WriteAttributeValue(" ", 2488, "=", 2489, 2, true);
            WriteAttributeValue(" ", 2490, "\'alert", 2491, 7, true);
            WriteAttributeValue(" ", 2497, "alert-dark\';", 2498, 13, true);
            WriteAttributeValue(" ", 2510, "}", 2511, 2, true);
            WriteAttributeValue(" ", 2512, "})(this);", 2513, 10, true);
            EndWriteAttribute();
            WriteLiteral(">\r\n");
#nullable restore
#line 47 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
                     if (msg.MessageToReply != null)
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <div class=\"row justify-content-center\">\r\n                            <div class=\"align-self-center\"><b>");
#nullable restore
#line 50 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
                                                         Write(msg.MessageToReply.Text);

#line default
#line hidden
#nullable disable
            WriteLiteral(" &lt;");
#nullable restore
#line 50 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
                                                                                      Write(msg.MessageToReply.User.NickName);

#line default
#line hidden
#nullable disable
            WriteLiteral("&gt;</b></div>\r\n                        </div>\r\n");
#nullable restore
#line 52 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <div class=\"row\">\r\n                        <div class=\"col-md-4\"><b>");
#nullable restore
#line 54 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
                                            Write(msg.Text);

#line default
#line hidden
#nullable disable
            WriteLiteral("</b></div>\r\n                        <div class=\"col-md-4 offset-4\">");
#nullable restore
#line 55 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
                                                  Write(msg.User.NickName);

#line default
#line hidden
#nullable disable
            WriteLiteral(" - ");
#nullable restore
#line 55 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
                                                                       Write(msg.Time.ToString("MM/dd/yyyy H:mm"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</div>\r\n                    </div>\r\n                </div>\r\n");
#nullable restore
#line 58 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 58 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
             
            
        }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"    </div>
    <script>
        var el = document.getElementById(""ChatPane"");
        el.scrollTop = 5000;
    </script>

    <div class=""container fixed-bottom text-center input-group mb-3 alert alert-secondary border border-info type_msg"" id=""inputForm"">
        <input class=""form-control"" type=""text"" id=""message"" />
        <input class=""btn btn-outline-secondary btn-primary"" type=""submit"" id=""sendBtn"" value=""Send"" />
        <input class=""btn btn-outline-secondary btn-primary"" type=""submit"" id=""replyBtn"" value=""Reply"" />
        <input class=""btn btn-outline-secondary btn-primary"" type=""submit"" id=""replyPrivBtn"" value=""Reply privately"" />
        <input class=""btn btn-outline-secondary btn-primary"" type=""submit"" id=""editBtn"" value=""Edit"" />
        <input class=""btn btn-outline-secondary btn-primary"" type=""submit"" id=""deleteBtn"" value=""Delete"" />
        <input class=""btn btn-outline-secondary btn-primary"" type=""submit"" id=""deletePrivBtn"" value=""Delete for me"" />
    </div>
</div>

<scrip");
            WriteLiteral("t src=\"/js/microsoft/signalr/dist/browser/signalr.js\"></script>\r\n<script src=\"/js/strftime.js\"></script>\r\n<script type=\"text/javascript\">\r\n    const hubConnection = new signalR.HubConnectionBuilder()\r\n        .withUrl(\"/Chat/Chat/");
#nullable restore
#line 82 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
                        Write(Model.Chat.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral(@""")
        .build();

    hubConnection.on(""Send"",
        function(message, messageId, userName, time, textToReply, userToReply) {

            let panel = document.getElementById(""ChatPane"");

            let msgBox = document.createElement(""div"");
            if (userName == """);
#nullable restore
#line 91 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
                        Write(SessionInfo.CurrUser.NickName);

#line default
#line hidden
#nullable disable
            WriteLiteral(@""") {
                msgBox.className = ""alert alert-primary"";
                let elem = msgBox;
                let id = messageId;
                msgBox.onclick = function() { myMsgAdded(elem, id); };
            }
            else {
                let elem = msgBox;
                let msg = {
                    id: messageId,
                    user: { nickName: userName },
                    text: message
                };
                msgBox.className = ""alert alert-dark"";
                msgBox.onclick = function () { diffMsgAdded(elem, msg); };
            }

            let row = document.createElement(""div"");
            row.className = ""row"";

            let msgCol = document.createElement(""div"");
            msgCol.className = ""col-md-4"";
            let msgText = document.createElement(""b"");
            msgText.innerHTML = message;

            msgCol.appendChild(msgText);

            let infoCol = document.createElement(""div"");
            infoCol.innerHTM");
            WriteLiteral(@"L = userName + "" - "" + time;
            infoCol.className = ""col-md-4 offset-4"";

            row.appendChild(msgCol);
            row.appendChild(infoCol);

            if (messageToReplyId != 0) {
                let replyRow = document.createElement(""div"");
                let replyCol = document.createElement(""div"");
                replyRow.className = ""row justify-content-center"";
                replyCol.className = ""align-self-center"";
                let replyText = document.createElement(""b"");
                replyText.innerHTML = textToReply + "" &lt;"" + userToReply + ""&gt;"";

                replyCol.appendChild(replyText);
                replyRow.appendChild(replyCol);
                msgBox.appendChild(replyRow);
            }

            msgBox.appendChild(row);
            panel.appendChild(msgBox);

        });

    function MessageSend(e) {
        messagesAdded += 1;
        let message = document.getElementById(""message"").value;
        let userName = """);
#nullable restore
#line 146 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
                   Write(Model.CurrUser.NickName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\";\r\n        let time = \"");
#nullable restore
#line 147 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
               Write(DateTime.Now.ToString("MM/dd/yyyy H:mm"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\";\r\n\r\n        $.ajax({\r\n            url: \'/Message/SendMessage\',\r\n            data: {\r\n                Text: message,\r\n                ChatId: ");
#nullable restore
#line 153 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
                   Write(Model.Chat.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral(",\r\n                UserId: ");
#nullable restore
#line 154 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
                   Write(Model.CurrUser.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral(@",
                MessageToReplyId: messageToReplyId
            },
            success: function (result) {
                hubConnection.invoke(""Send"", message, result.sentId, userName, time, textToReply, userToReply);
            }
        });
    }

    function ReplyPrivately(e) {
        let message = document.getElementById(""message"").value;
        $.ajax({
            url: '/Message/ReplyPrivate',
            data: {
                Text: message,
                ChatId: ");
#nullable restore
#line 169 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
                   Write(Model.Chat.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral(",\r\n                UserId: ");
#nullable restore
#line 170 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
                   Write(Model.CurrUser.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral(@",
                MessageToReplyId: messageToReplyId
            },
            success: function(result) {
                window.location.href = result.redirectToUrl;
            }
        });
    }

    function DeleteMessage(e) {
        messagesAdded -= 1;
        $.ajax({
            url: '/Message/Delete',
            data: {
                messageId: messageToDeleteId
            },
            success: function(result) {
                document.getElementById(""ChatPane"").removeChild(redMsg);
            }
        });
    }

    function DeleteMessagePriv(e) {
        messagesAdded -= 1;
        $.ajax({
            url: `/Message/DeletePrivate`,
            data: {
                messageId: messageToDeleteId
            },
            success: function(result) {
                document.getElementById(""ChatPane"").removeChild(redMsg);
            }
        });
    }

    function EditMessage(e) {
        let text = document.getElementById(""message"").value;
     ");
            WriteLiteral(@"   $.ajax({
            url: '/Message/Edit',
            data: {
                MessageId: messageToDeleteId,
                Text: text
            },
            success: function(result) {
                let field = redMsg.getElementsByTagName('b')[1] ? 
                    redMsg.getElementsByTagName('b')[1] :
                    redMsg.getElementsByTagName('b')[0];
                field.innerHTML = text;
            }
        });
    }

    function FetchNext(e) {
        $.ajax({
            url: '/Chat/FetchNext',
            data: {
                ChatId: ");
#nullable restore
#line 226 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
                   Write(Model.Chat.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral(@",
                FetchOpNo: fetchOpCount,
                MessagesAdded: messagesAdded
            },
            success: function(result) {
                messagesAdded = 0;
                fetchOpCount++;
                console.log(result);
                console.log(result.messages.length);
                for (var i = 0; i < result.messages.length; i++) {

                    let panel = document.getElementById(""ChatPane"");
                    let addBtn = document.getElementById(""loadMoreBtn"");

                    let msgBox = document.createElement(""div"");
                    if (result.messages[i].user.nickName == """);
#nullable restore
#line 241 "D:\programming\WebChat\WebChat\Views\Chat\Chat.cshtml"
                                                        Write(SessionInfo.CurrUser.NickName);

#line default
#line hidden
#nullable disable
            WriteLiteral(@""") {
                        msgBox.className = ""alert alert-primary"";
                        let elem = msgBox;
                        let id = result.messages[i].id;
                        msgBox.onclick = function() { myMsgAdded(elem, id); };
                    } else {
                        msgBox.className = ""alert alert-dark"";
                        let elem = msgBox;
                        let msg = result.messages[i];
                        msgBox.onclick = function() { diffMsgAdded(elem, msg); };
                    }

                    let row = document.createElement(""div"");
                    row.className = ""row"";

                    let msgCol = document.createElement(""div"");
                    msgCol.className = ""col-md-4"";
                    let msgText = document.createElement(""b"");
                    msgText.innerHTML = result.messages[i].text;

                    msgCol.appendChild(msgText);

                    let infoCol = document.createElement(""di");
            WriteLiteral(@"v"");

                    infoCol.innerHTML = result.messages[i].user.nickName + "" - ""
                        + strftime('%d/%m/%Y %H:%M', new Date(result.messages[i].time));
                    infoCol.className = ""col-md-4 offset-4"";

                    row.appendChild(msgCol);
                    row.appendChild(infoCol);

                    if (result.messages[i].messageToReply != null) {
                        let replyRow = document.createElement(""div"");
                        let replyCol = document.createElement(""div"");
                        replyRow.className = ""row justify-content-center"";
                        replyCol.className = ""align-self-center"";
                        let replyText = document.createElement(""b"");
                        replyText.innerHTML = result.messages[i].messageToReply.text + "" &lt;""
                            + result.messages[i].messageToReply.user.nickName + ""&gt;"";

                        replyCol.appendChild(replyText);
               ");
            WriteLiteral(@"         replyRow.appendChild(replyCol);
                        msgBox.appendChild(replyRow);
                    }

                    msgBox.appendChild(row);
                    panel.insertBefore(msgBox, addBtn.nextSibling);
                }
            }
        });
    }

    document.getElementById(""sendBtn"").addEventListener(""click"", MessageSend);
    document.getElementById(""replyBtn"").addEventListener(""click"", MessageSend);
    document.getElementById(""replyPrivBtn"").addEventListener(""click"", ReplyPrivately);
    document.getElementById(""deleteBtn"").addEventListener(""click"", DeleteMessage);
    document.getElementById(""deletePrivBtn"").addEventListener(""click"", DeleteMessagePriv);
    document.getElementById(""editBtn"").addEventListener(""click"", EditMessage);
    document.getElementById(""loadMoreBtn"").addEventListener(""click"",FetchNext);

    hubConnection.start();
</script>
<script src=""/js/MessageForm.js""></script>
");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<WebChat.ViewModels.ChatViewModel> Html { get; private set; }
    }
}
#pragma warning restore 1591
